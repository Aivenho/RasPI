//corect timezone
sudo dpkg-reconfigure tzdata

//install
sudo apt-get install mysql-server --fix-missing
sudo apt-get install mysql-client php5-mysql python-mysqldb

//connect
mysql -u root -p 
// and enter master_password when asked

//create 
CREATE DATABASE battemplog;
CREATE USER 'battery'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON battemplog.* TO 'battery'@'localhost';

CREATE TABLE battemps (
id int(8) NOT NULL AUTO_INCREMENT,
datetime DATETIME NOT NULL,
temp_c DECIMAL (2,1),
dev_id VARCHAR(5),
notes VARCHAR(50) DEFAULT NULL,
constraint id_field PRIMARY KEY (id,datetime)
);

CREATE TABLE batch (  
name VARCHAR(50) DEFAULT NULL,
material VARCHAR(10) DEFAULT NULL,
start_time DATETIME DEFAULT NULL,
active CHAR(1) DEFAULT 'Y',
end_time DATETIME DEFAULT NULL,
min_temp DOUBLE DEFAULT NULL,
avg_temp DOUBLE DEFAULT NULL,
max_temp DOUBLE DEFAULT NULL
);

// test
mysql -ubattery -hlocalhost -Dbattemplog -p


// make sure MySQL starts with system
sudo update-rc.d mysql enable
